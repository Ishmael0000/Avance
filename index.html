<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MouseBuys</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/styles.css" />

    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel" src="js/app.js"></script>

    <script type="text/babel">
      const App = () => {
        const [productos, setProductos] = React.useState([]);

        React.useEffect(() => {
          fetch("./data.productos.json?nocache=" + new Date().getTime())
            .then((res) => res.json())
            .then((data) => setProductos(data))
            .catch((err) => console.error("Error cargando productos:", err));
        }, []);

        const primerosCuatro = productos.slice(0, 4);

        return (
          <div className="pagina">
            <header>
              <p className="logo">MouseBuys</p>
            </header>

            <div className="top-bar">
              ¡Hazte con el mejor Mouse, al mejor precio!
            </div>

            <Navbar />

            <div className="contenedor">
              {primerosCuatro.map((producto, i) => (
                <figure key={i}>
                  <img src={producto.url} alt={producto.nombre} />
                  <figcaption>
                    {producto.nombre} - {producto.precio}
                  </figcaption>
                </figure>
              ))}
            </div>

            <section className="contacto">
              <h2>Contacto</h2>
              <p>
                <strong>Dirección:</strong> La Molina, Av. la Fontana 1250, Lima
                15024
              </p>
              <p>
                <strong>Teléfono:</strong> (01) 2086000
              </p>
              <p>
                <strong>Correo electrónico:</strong> mousebuys@gmail.com
              </p>

              <h2>¿Dónde encontrarnos?</h2>
              <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3901.5853716918023!2d-76.94216089999999!3d-12.072023799999998!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9105c6e79034dc63%3A0x393610bdc506718b!2sFacultad%20de%20Ingenier%C3%ADa%20y%20Arquitectura%20-%20Universidad%20de%20San%20Mart%C3%ADn%20de%20Porres%20(USMP)!5e0!3m2!1ses!2spe!4v1742804973734!5m2!1ses!2spe"
                width="600"
                height="450"
                style={{ border: 0 }}
                allowFullScreen=""
                loading="lazy"
                referrerPolicy="no-referrer-when-downgrade"
              ></iframe>
            </section>

            <Footer />
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
